<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Departamentos - Vivienda Plus</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow fixed-top">
        <div class="container">
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="../index.html#inicio">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="../index.html#departamentos">Departamentos</a></li>
                    <li class="nav-item"><a class="nav-link" href="../index.html#testimonios">Testimonios</a></li>
                    <li class="nav-item"><a class="nav-link" href="contacto.html">Contacto</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <section class="busqueda text-center">
        <div class="container">
            <h2 class="text-white">Busca tu departamento ideal</h2>
            <form class="row g-3 mt-3" id="searchForm">
                <div class="col-md-3">
                    <select class="form-select" id="titulo" required>
                        <option value="">Selecciona un departamento</option>
                        <option value="Moderno y Elegante">Moderno y Elegante</option>
                        <option value="Espacioso y Luminoso">Espacioso y Luminoso</option>
                        <option value="Minimalista y Funcional">Minimalista y Funcional</option>
                        <option value="Lujoso y Amplio">Lujoso y Amplio</option>
                        <option value="Duplex">Duplex</option>
                        <option value="Multifamiliar">Multifamiliar</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="precioMaximo">
                        <option value="">Precio máximo</option>
                        <option value="50000">$50,000</option>
                        <option value="100000">$100,000</option>
                        <option value="150000">$150,000</option>
                        <option value="200000">$200,000</option>
                        <option value="220000">$220,000</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <select class="form-select" id="habitaciones">
                        <option value="">Habitaciones</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3+">3+</option>
                        <option value="4">4</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <button type="submit" class="btn btn-primario w-50">Buscar</button>
                </div>
            </form>
        </div>
    </section>

    <section id="departamentos" class="py-5">
        <div class="container">
            <h2 class="text-center mb-4">Departamentos Destacados</h2>
            <div class="row" id="departamentoCards">
                <!-- Tarjeta 1 -->
                <div class="col-md-4">
                    <div class="card departamento-card shadow-sm" data-titulo="Moderno y Elegante" data-precio="150000" data-habitaciones="3">
                        <img src="../images/tarjeta1.PNG" class="card-img-top img-fluid" alt="Departamento moderno y elegante">
                        <div class="card-body">
                            <h5 class="card-title">Moderno y Elegante</h5>
                            <p class="card-text">3 habitaciones, 2 baños, balcón con vista.</p>
                            <a href="../pages/compra_depa.html#departamento-1" class="btn btn-primary">Ver mas</a>
                        
                        </div>
                    </div>
                </div>
                
                <!-- Tarjeta 2 -->
                <div class="col-md-4">
                    <div class="card departamento-card shadow-sm" data-titulo="Espacioso y Luminoso" data-precio="80000" data-habitaciones="2">
                        <img src="../images/tarjeta2.PNG" class="card-img-top img-fluid" alt="Departamento espacioso y luminoso">
                        <div class="card-body">
                            <h5 class="card-title">Espacioso y Luminoso</h5>
                            <p class="card-text">2 habitaciones, 1 baño, terraza grande.</p>
                            <a href="../pages/compra_depa.html#departamento-2" class="btn btn-primary">Ver mas</a>
                        </div>
                    </div>
                </div>
                
                <!-- Tarjeta 3 -->
                <div class="col-md-4">
                    <div class="card departamento-card shadow-sm" data-titulo="Minimalista y Funcional" data-precio="60000" data-habitaciones="1">
                        <img src="../images/tarjeta3.PNG" class="card-img-top img-fluid" alt="Departamento minimalista y funcional">
                        <div class="card-body">
                            <h5 class="card-title">Minimalista y Funcional</h5>
                            <p class="card-text">1 habitación, 1 baño, área de trabajo.</p>
                            <a href="../pages/compra_depa.html#departamento-3" class="btn btn-primary">Ver mas</a>
                        </div>
                    </div>
                </div>

                <!-- Tarjeta 4 -->
                <div class="col-md-4">
                    <div class="card departamento-card shadow-sm" data-titulo="Lujoso y Amplio" data-precio="200000" data-habitaciones="4">
                        <img src="../images/tarjeta4.JPG" class="card-img-top img-fluid" alt="Departamento lujoso y amplio">
                        <div class="card-body">
                            <h5 class="card-title">Lujoso y Amplio</h5>
                            <p class="card-text">4 habitaciones, 3 baños, piscina privada.</p>
                            <a href="../pages/compra_depa.html#departamento-4" class="btn btn-primary">Ver mas</a>
                        </div>
                    </div>
                </div>

                <!-- Tarjeta 5 -->
                <div class="col-md-4">
                    <div class="card departamento-card shadow-sm" data-titulo="Duplex" data-precio="180000" data-habitaciones="4">
                        <img src="../images/tarjeta5.JPG" class="card-img-top img-fluid" alt="Departamento Duplex">
                        <div class="card-body">
                            <h5 class="card-title">Duplex</h5>
                            <p class="card-text">4 habitaciones, 3 baños, piscina privada.</p>
                            <a href="../pages/compra_depa.html#departamento-5" class="btn btn-primary">Ver mas</a>
                        </div>
                    </div>
                </div>

                <!-- Tarjeta 6 -->
                <div class="col-md-4">
                    <div class="card departamento-card shadow-sm" data-titulo="Multifamiliar" data-precio="220000" data-habitaciones="4">
                        <img src="../images/tarjeta6.JPG" class="card-img-top img-fluid" alt="Departamento Multifamiliar">
                        <div class="card-body">
                            <h5 class="card-title">Multifamiliar</h5>
                            <p class="card-text">4 habitaciones, 3 baños, piscina privada.</p>
                            <a href="../pages/compra_depa.html#departamento-6" class="btn btn-primary">Ver mas</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer text-center">
        <div class="container">
            <p>© 2025 Vivienda Plus. Todos los derechos reservados.</p>
            <p>Síguenos en:</p>
            <a href="#" class="text-white me-3">Facebook</a>
            <a href="#" class="text-white me-3">Instagram</a>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const searchForm = document.getElementById('searchForm');
            const cards = document.querySelectorAll('.departamento-card');

            // Función para resetear la visibilidad de todas las tarjetas
            function resetCards() {
                cards.forEach(card => {
                    card.parentElement.style.display = 'block';
                });
            }

            searchForm.addEventListener('submit', (e) => {
                e.preventDefault();

                const titulo = document.getElementById('titulo').value.toLowerCase();
                const precioMaximo = document.getElementById('precioMaximo').value;
                const habitaciones = document.getElementById('habitaciones').value;

                // Ocultar todas las tarjetas primero
                cards.forEach(card => {
                    card.parentElement.style.display = 'none';
                });

                let foundMatch = false;

                cards.forEach(card => {
                    const cardTitulo = card.getAttribute('data-titulo').toLowerCase();
                    const cardPrecio = parseInt(card.getAttribute('data-precio'));
                    const cardHabitaciones = card.getAttribute('data-habitaciones');

                    let showCard = true;

                    // Si se selecciona un título específico, priorizar este filtro
                    if (titulo && titulo !== '') {
                        if (cardTitulo === titulo) {
                            showCard = true; // Mostrar solo esta tarjeta
                            foundMatch = true;
                        } else {
                            showCard = false; // Ocultar todas las demás
                        }
                    } else {
                        // Si no hay título seleccionado, aplicar filtros de precio y habitaciones
                        showCard = true;

                        if (precioMaximo && precioMaximo !== '') {
                            if (cardPrecio > parseInt(precioMaximo)) {
                                showCard = false;
                            }
                        }

                        if (habitaciones && habitaciones !== '') {
                            if (habitaciones === '3+' && cardHabitaciones !== '3' && cardHabitaciones !== '4') {
                                showCard = false;
                            } else if (habitaciones !== '3+' && cardHabitaciones !== habitaciones) {
                                showCard = false;
                            }
                        }
                    }

                    // Mostrar u ocultar la tarjeta
                    if (showCard) {
                        card.parentElement.style.display = 'block';
                    }
                });

                if (!foundMatch && titulo) {
                    alert('No se encontró ningún departamento con ese título.');
                } else {
                    alert('Búsqueda realizada. Revisa los resultados.');
                }
            });

            // Opcional: Resetear el filtro cuando se carga la página o se cambia algo
            searchForm.addEventListener('reset', () => {
                resetCards();
                alert('Filtros reiniciados. Mostrando todos los departamentos.');
            });
        });
    </script>
</body>
</html>